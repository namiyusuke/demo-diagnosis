<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>子供の気質診断フォーム</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      .section {
        margin-bottom: 20px;
      }
      .section h2 {
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <form id="traitForm">
      <div class="section">
        <h2>子供の情報</h2>
        <label for="name">名前（ニックネーム）:</label>
        <input type="text" id="name" name="name" required /><br />
        <label for="gender">性別:</label>
        <select id="gender" name="gender" required>
          <option value="男の子">男の子</option>
          <option value="女の子">女の子</option></select
        ><br />
        <label for="age">年齢:</label>
        <input type="number" id="age" name="age" min="1" required />
      </div>
      <div class="section">
        <h2>気質診断</h2>
        <!-- 気質診断項目（10項目） -->
        <label for="q1">1. 好奇心が強く、新しいことに興味を持ちやすい</label><br />
        <input type="radio" name="q1" value="4" required />完全に当てはまる
        <input type="radio" name="q1" value="3" />まあまあ当てはまる
        <input type="radio" name="q1" value="2" />どちらともいえない
        <input type="radio" name="q1" value="1" />やや当てはまらない
        <input type="radio" name="q1" value="0" />全く当てはまらない<br />

        <label for="q2">2. 勤勉で真面目な性格</label><br />
        <input type="radio" name="q2" value="4" required />完全に当てはまる
        <input type="radio" name="q2" value="3" />まあまあ当てはまる
        <input type="radio" name="q2" value="2" />どちらともいえない
        <input type="radio" name="q2" value="1" />やや当てはまらない
        <input type="radio" name="q2" value="0" />全く当てはまらない<br />

        <label for="q3">3. 感情が安定しており、ストレスに強い</label><br />
        <input type="radio" name="q3" value="4" required />完全に当てはまる
        <input type="radio" name="q3" value="3" />まあまあ当てはまる
        <input type="radio" name="q3" value="2" />どちらともいえない
        <input type="radio" name="q3" value="1" />やや当てはまらない
        <input type="radio" name="q3" value="0" />全く当てはまらない<br />

        <label for="q4">4. 外向的で社交的</label><br />
        <input type="radio" name="q4" value="4" required />完全に当てはまる
        <input type="radio" name="q4" value="3" />まあまあ当てはまる
        <input type="radio" name="q4" value="2" />どちらともいえない
        <input type="radio" name="q4" value="1" />やや当てはまらない
        <input type="radio" name="q4" value="0" />全く当てはまらない<br />

        <label for="q5">5. 思いやりがあり、他人に対して親切</label><br />
        <input type="radio" name="q5" value="4" required />完全に当てはまる
        <input type="radio" name="q5" value="3" />まあまあ当てはまる
        <input type="radio" name="q5" value="2" />どちらともいえない
        <input type="radio" name="q5" value="1" />やや当てはまらない
        <input type="radio" name="q5" value="0" />全く当てはまらない<br />

        <label for="q6">6. ルーティンが好きで変化を嫌う</label><br />
        <input type="radio" name="q6" value="4" required />完全に当てはまる
        <input type="radio" name="q6" value="3" />まあまあ当てはまる
        <input type="radio" name="q6" value="2" />どちらともいえない
        <input type="radio" name="q6" value="1" />やや当てはまらない
        <input type="radio" name="q6" value="0" />全く当てはまらない<br />

        <label for="q7">7. 衝動的で行動が早い</label><br />
        <input type="radio" name="q7" value="4" required />完全に当てはまる
        <input type="radio" name="q7" value="3" />まあまあ当てはまる
        <input type="radio" name="q7" value="2" />どちらともいえない
        <input type="radio" name="q7" value="1" />やや当てはまらない
        <input type="radio" name="q7" value="0" />全く当てはまらない<br />

        <label for="q8">8. 感受性が豊かで繊細</label><br />
        <input type="radio" name="q8" value="4" required />完全に当てはまる
        <input type="radio" name="q8" value="3" />まあまあ当てはまる
        <input type="radio" name="q8" value="2" />どちらともいえない
        <input type="radio" name="q8" value="1" />やや当てはまらない
        <input type="radio" name="q8" value="0" />全く当てはまらない<br />

        <label for="q9">9. 内向的で一人の時間を大切にする</label><br />
        <input type="radio" name="q9" value="4" required />完全に当てはまる
        <input type="radio" name="q9" value="3" />まあまあ当てはまる
        <input type="radio" name="q9" value="2" />どちらともいえない
        <input type="radio" name="q9" value="1" />やや当てはまらない
        <input type="radio" name="q9" value="0" />全く当てはまらない<br />

        <label for="q10">10. 友好的でチームワークを重視する</label><br />
        <input type="radio" name="q10" value="4" required />完全に当てはまる
        <input type="radio" name="q10" value="3" />まあまあ当てはまる
        <input type="radio" name="q10" value="2" />どちらともいえない
        <input type="radio" name="q10" value="1" />やや当てはまらない
        <input type="radio" name="q10" value="0" />全く当てはまらない<br />
      </div>
      <div>
        <button type="button" onclick="generateTraitDiagnosis()">診断結果を生成</button>
      </div>
    </form>
    <div id="traitResults" class="section"></div>

    <script>
      function generateTraitDiagnosis() {
        const name = document.getElementById("name").value;
        const gender = document.getElementById("gender").value;
        const age = document.getElementById("age").value;

        // 気質診断のスコアを計算
        const openness = calculateScore([1, 6]);
        const conscientiousness = calculateScore([2, 7]);
        const emotional_stability = calculateScore([3, 8]);
        const extraversion = calculateScore([4, 9]);
        const agreeableness = calculateScore([5, 10]);

        // 気質の評価結果を生成
        const resultsDiv = document.getElementById("traitResults");
        let resultsHTML = `<h2>${name}${gender === "男の子" ? "くん" : "ちゃん"}（${age}歳）の診断結果</h2>`;

        // 気質の評価
        resultsHTML += `<h3>気質の評価</h3>`;
        resultsHTML += `<p>開放性: ${evaluateTrait(openness, "開放性")}</p>`;
        resultsHTML += `<p>誠実性: ${evaluateTrait(conscientiousness, "誠実性")}</p>`;
        resultsHTML += `<p>情緒安定性: ${evaluateTrait(emotional_stability, "情緒安定性")}</p>`;
        resultsHTML += `<p>外向性: ${evaluateTrait(extraversion, "外向性")}</p>`;
        resultsHTML += `<p>協調性: ${evaluateTrait(agreeableness, "協調性")}</p>`;

        resultsDiv.innerHTML = resultsHTML;
      }

      function calculateScore(questions) {
        let score = 0;
        questions.forEach((q) => {
          score += parseInt(document.querySelector(`input[name="q${q}"]:checked`).value);
        });
        return score;
      }

      function evaluateTrait(score, traitName) {
        let evaluation = "";
        if (score >= 7) {
          evaluation = `高い（${score}点）：${generateTraitDescription(score, traitName)}`;
        } else if (score >= 4) {
          evaluation = `普通（${score}点）：${generateTraitDescription(score, traitName)}`;
        } else {
          evaluation = `低い（${score}点）：${generateTraitDescription(score, traitName)}`;
        }
        return evaluation;
      }

      function generateTraitDescription(score, traitName) {
        if (score >= 7) {
          switch (traitName) {
            case "開放性":
              return `非常に高い探究心と好奇心を持ち、学ぶことが大好きです。`;
            case "誠実性":
              return `非常に計画的で、常に慎重に物事を進めます。`;
            case "情緒安定性":
              return `感情のコントロールが上手で、ストレスに対して非常に強いです。`;
            case "外向性":
              return `非常に社交的で、活発に友達と過ごすことができます。`;
            case "協調性":
              return `非常に思いやりがあり、他人の気持ちを深く理解することができます。`;
          }
        } else if (score >= 4) {
          switch (traitName) {
            case "開放性":
              return `適度な探究心と好奇心を持ち、新しいことにも興味を示します。`;
            case "誠実性":
              return `計画性があり、慎重に物事を進めますが、時には柔軟に対応することもあります。`;
            case "情緒安定性":
              return `情緒が安定しており、ストレスに対して適度な耐性があります。`;
            case "外向性":
              return `社交的な面もありながら、一人の時間も大切にします。`;
            case "協調性":
              return `思いやりがあり、優しい性格ですが、自己主張も大切にします。`;
          }
        } else {
          switch (traitName) {
            case "開放性":
              return `新しい経験に対して慎重で、変化をあまり好まない性格です。`;
            case "誠実性":
              return `計画性が低く、時に衝動的に行動することがあります。`;
            case "情緒安定性":
              return `感情の起伏が激しく、ストレスに弱い傾向があります。`;
            case "外向性":
              return `内向的で、静かな環境を好む性格です。`;
            case "協調性":
              return `自己中心的で、競争心が強い一面があります。`;
          }
        }
      }
    </script>
  </body>
</html>
